<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.25.9"/><meta data-react-helmet="true" name="description" content="I suppose both of your Lambda function and SQS messages are ready, and AWS Lambda and SQS in  are up and running. We need the SQS queue URL…"/><meta data-react-helmet="true" name="image" content="https://v2021.shahid.pro/images/seo-bg.jpg"/><meta data-react-helmet="true" property="og:url" content="https://v2021.shahid.pro/blog/2019/11/15/testing-aws-lambda-and-sqs-locally-with-nodejs/"/><meta data-react-helmet="true" property="og:title" content="Testing AWS Lambda And SQS Locally With Node.js | Shahidul Islam Majumder"/><meta data-react-helmet="true" property="og:description" content="I suppose both of your Lambda function and SQS messages are ready, and AWS Lambda and SQS in  are up and running. We need the SQS queue URL…"/><meta data-react-helmet="true" property="og:image" content="https://v2021.shahid.pro/images/seo-bg.jpg"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="https://twitter.com/sh4hids"/><meta data-react-helmet="true" name="twitter:title" content="Testing AWS Lambda And SQS Locally With Node.js | Shahidul Islam Majumder"/><meta data-react-helmet="true" name="twitter:description" content="I suppose both of your Lambda function and SQS messages are ready, and AWS Lambda and SQS in  are up and running. We need the SQS queue URL…"/><meta data-react-helmet="true" name="twitter:image" content="https://v2021.shahid.pro/images/seo-bg.jpg"/><meta name="theme-color" content="#27283F"/><style data-href="/styles.e84fde70a83184a4a505.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;color:var(--color-text-1);font-family:Fira Code,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:var(--color-bg-1);color:var(--color-text-2)}:not(pre)>code[class*=language-]{background:transparent;border-radius:.3em;font-weight:700;padding:.1em .3em .2em;white-space:normal}:not(pre)>code[class*=language-]:after,:not(pre)>code[class*=language-]:before{content:"`"}.token.cdata,.token.comment,.token.prolog{color:#637777;font-style:italic}.token.punctuation{color:#c792ea}.namespace{color:#b2ccd6}.token.deleted{color:rgba(239,83,80,.56);font-style:italic}.token.property,.token.symbol{color:#80cbc4}.token.keyword,.token.operator,.token.tag{color:var(--color-success-1)}.token.boolean{color:#ff5874}.token.number{color:#f78c6c}.token.builtin,.token.char,.token.constant,.token.function{color:var(--color-accent-1)}.token.doctype,.token.selector{color:#c792ea;font-style:italic}.token.attr-name,.token.inserted{color:var(--color-success-2);font-style:italic}.language-css .token.string,.style .token.string,.token.entity,.token.string,.token.url{color:var(--color-success-2)}.token.atrule,.token.attr-value,.token.class-name{color:#ffcb8b}.token.important,.token.regex,.token.variable{color:var(--color-text-1)}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}@font-face{font-display:swap;font-family:Fira Sans;font-style:normal;font-weight:400;src:local(""),url(/fonts/fira-sans-v15-latin-regular.woff2) format("woff2"),url(/fonts/fira-sans-v15-latin-regular.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Sans;font-style:italic;font-weight:400;src:local(""),url(/fonts/fira-sans-v15-latin-italic.woff2) format("woff2"),url(/fonts/fira-sans-v15-latin-italic.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Sans;font-style:normal;font-weight:500;src:local(""),url(/fonts/fira-sans-v15-latin-500.woff2) format("woff2"),url(/fonts/fira-sans-v15-latin-500.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Sans;font-style:normal;font-weight:700;src:local(""),url(/fonts/fira-sans-v15-latin-700.woff2) format("woff2"),url(/fonts/fira-sans-v15-latin-700.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:400;src:local(""),url(/fonts/fira-code-v14-latin-regular.woff2) format("woff2"),url(/fonts/fira-code-v14-latin-regular.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:500;src:local(""),url(/fonts/fira-code-v14-latin-500.woff2) format("woff2"),url(/fonts/fira-code-v14-latin-500.woff) format("woff")}@font-face{font-display:swap;font-family:Fira Code;font-style:normal;font-weight:700;src:local(""),url(/fonts/fira-code-v14-latin-700.woff2) format("woff2"),url(/fonts/fira-code-v14-latin-700.woff) format("woff")}:root{--reach-dialog:1}[data-reach-dialog-overlay]{background:rgba(0,0,0,.33);bottom:0;left:0;overflow:auto;position:fixed;right:0;top:0}[data-reach-dialog-content]{background:#fff;margin:10vh auto;outline:none;padding:2rem;width:50vw}</style><title data-react-helmet="true">Testing AWS Lambda And SQS Locally With Node.js | Shahidul Islam Majumder</title><script data-react-helmet="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Article","publisher":{"@type":"Organization","name":"Shahidul Islam Majumder","logo":{"@type":"ImageObject","url":"https://v2021.shahid.pro","width":1024,"height":1024}},"headline":"Shahidul Islam Majumder","url":"https://v2021.shahid.pro","image":{"@type":"ImageObject","url":"https://v2021.shahid.pro/images/seo-bg.jpg","width":1280,"height":720},"description":"I am a fullstack JavaScript Developer from Dhaka, Bangladesh. I love to work with Node, React, MySQL, MongoDB and all other related technologies. When I am not coding, I like to read books, do gardening and spend time with my family and friends.","mainEntityOfPage":{"@type":"WebPage","@id":"https://v2021.shahid.pro"}}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Article","publisher":{"@type":"Organization","name":"Shahidul Islam Majumder","logo":{"@type":"ImageObject","url":"https://v2021.shahid.pro","width":1024,"height":1024}},"headline":"Testing AWS Lambda And SQS Locally With Node.js | Shahidul Islam Majumder","url":"https://v2021.shahid.pro/blog/2019/11/15/testing-aws-lambda-and-sqs-locally-with-nodejs/","image":{"@type":"ImageObject","url":"https://v2021.shahid.pro/images/seo-bg.jpg","width":1280,"height":720},"description":"I suppose both of your Lambda function and SQS messages are ready, and AWS Lambda and SQS in  are up and running. We need the SQS queue URL…","mainEntityOfPage":{"@type":"WebPage","@id":"https://v2021.shahid.pro"}}</script><style data-styled="" data-styled-version="5.3.11">.ebjPRL{display:inline-block;vertical-align:middle;overflow:hidden;}/*!sc*/
data-styled.g1[id="StyledIconBase-sc-ea9ulj-0"]{content:"ebjPRL,"}/*!sc*/
.blKWRv{padding:16px;}/*!sc*/
.fxdaqI{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
.jPDAzJ{width:24px;height:24px;}/*!sc*/
.kmrEev{width:100%;padding-top:0;padding-bottom:0;}/*!sc*/
@media screen and (min-width:240px){.kmrEev{width:100%;padding-top:0;padding-bottom:0;}}/*!sc*/
@media screen and (min-width:480px){.kmrEev{width:70%;padding-top:32px;padding-bottom:32px;}}/*!sc*/
.jbYiYB{text-align:center;}/*!sc*/
@media screen and (min-width:240px){.jbYiYB{text-align:center;}}/*!sc*/
@media screen and (min-width:480px){.jbYiYB{text-align:left;}}/*!sc*/
.bwkPqF{padding:16px;margin-top:32px;margin-bottom:32px;background-color:var(--color-bg-1);border-radius:8px;}/*!sc*/
.eTCcWG{padding-top:16px;padding-bottom:16px;}/*!sc*/
@media screen and (min-width:240px){.eTCcWG{padding-top:16px;padding-bottom:16px;}}/*!sc*/
@media screen and (min-width:480px){.eTCcWG{padding-top:64px;padding-bottom:64px;}}/*!sc*/
.gmwDgr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}/*!sc*/
.gbIPXy{width:100%;padding:16px;}/*!sc*/
@media screen and (min-width:240px){.gbIPXy{width:100%;}}/*!sc*/
@media screen and (min-width:480px){.gbIPXy{width:50%;}}/*!sc*/
.AhMhw{width:100%;padding:16px;}/*!sc*/
data-styled.g4[id="Box-sc-ptr3nn-0"]{content:"blKWRv,fxdaqI,jPDAzJ,kmrEev,jbYiYB,bwkPqF,jPMUhI,eTCcWG,gmwDgr,gbIPXy,AhMhw,"}/*!sc*/
.hLDBxp{-webkit-text-decoration:none;text-decoration:none;color:var(--color-text-0);font-size:22px;position:relative;top:-2px;}/*!sc*/
.hLDBxp img{width:30px;height:auto;position:relative;top:6px;left:-4px;}/*!sc*/
.hLDBxp .brand-text-left,.hLDBxp .brand-text-right{font-weight:500;}/*!sc*/
.hLDBxp .brand-text-left{font-size:1.3rem;position:relative;top:-2px;}/*!sc*/
.hLDBxp .brand-text-right{position:relative;left:-8px;}/*!sc*/
data-styled.g5[id="BrandLogo__BrandLogoWrapper-sc-1uf7z42-0"]{content:"hLDBxp,"}/*!sc*/
.hvLgSm{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g6[id="CalendarIcon-sc-6jhpoy-0"]{content:"hvLgSm,"}/*!sc*/
.fkXnQk{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g9[id="ClockIcon-sc-15qfzyf-0"]{content:"fkXnQk,"}/*!sc*/
.kRNywr{max-width:768px;margin:0 auto;}/*!sc*/
data-styled.g10[id="Container-sc-oxbcwa-0"]{content:"kRNywr,"}/*!sc*/
.MfjIm{background:radial-gradient( 50% 1044012.75% at 50% 50.02%,rgba(33,170,226,0.72) 0%,rgba(33,170,226,0.24) 100% );border-radius:2px;height:1px;width:8rem;margin-top:32px;margin-bottom:16px;width:8rem;}/*!sc*/
.ePRnfW{background:radial-gradient( 50% 1044012.75% at 50% 50.02%,rgba(33,170,226,0.72) 0%,rgba(33,170,226,0.24) 100% );border-radius:2px;height:1px;width:8rem;margin-top:16px;margin-bottom:32px;width:8rem;}/*!sc*/
data-styled.g11[id="Divider-sc-bgbp25-0"]{content:"MfjIm,ePRnfW,"}/*!sc*/
.kaLfYn{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g12[id="FacebookIcon-sc-15irht2-0"]{content:"kaLfYn,"}/*!sc*/
.eVetkB{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g13[id="FacebookSquareIcon-sc-yybwiz-0"]{content:"eVetkB,"}/*!sc*/
.fuodJd{background-color:var(--color-bg-1);box-shadow:0px 0px 1px rgba(39,40,63,0.08),0px 0.4px 2px rgba(83,85,110,0.16);}/*!sc*/
data-styled.g14[id="Footer__Wrapper-sc-i2x5ny-0"]{content:"fuodJd,"}/*!sc*/
.MzkUf{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g15[id="GithubIcon-sc-1v4v3a3-0"]{content:"MzkUf,"}/*!sc*/
.gidBbB{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g16[id="HackerNewsSquareIcon-sc-1ymd1x3-0"]{content:"gidBbB,"}/*!sc*/
.iKKCnj{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g17[id="HashIcon-sc-td049n-0"]{content:"iKKCnj,"}/*!sc*/
.jBoxLH{list-style:none;margin:0;padding:0;width:100vw;height:calc(100vh - 60px);position:fixed;top:60px;left:0;background-color:var(--color-bg-1);color:var(--color-text-0);border-top:1px solid var(--color-bg-0);display:none;}/*!sc*/
.jBoxLH li{display:block;text-align:center;}/*!sc*/
.jBoxLH li::before{content:'';margin-right:0;}/*!sc*/
.jBoxLH li a{display:inline-block;width:100%;padding:16px;font-size:22px;font-weight:500;color:var(--color-text-1);position:relative;z-index:1;border-bottom:1px solid var(--color-bg-0);}/*!sc*/
.jBoxLH li a.active{background-color:var(--color-bg-2);}/*!sc*/
.jBoxLH li a:hover{color:var(--color-primary-0);}/*!sc*/
@media only screen and (min-width :768px){.jBoxLH{position:relative;top:0;width:auto;height:auto;border:none;display:block;}.jBoxLH li{display:inline-block;margin-right:32px;text-align:left;}.jBoxLH li:last-child{margin-right:0;}.jBoxLH li a{display:inline;padding:0;border:none;}.jBoxLH li a.active{background:none;}.jBoxLH li a.active::after{content:'';position:absolute;bottom:-0.6rem;left:-0.4rem;right:-0.4rem;height:0.75rem;z-index:-1;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ4IiBoZWlnaHQ9IjciIHZpZXdCb3g9IjAgMCAyNDggNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIgNEMxMS44ODg5IDQgMjEuNzc3OCA0IDMxLjY2NjcgNEM0NC45MTM4IDQgNTguMDM1MyAyLjIwMTcyIDcxLjI3NzggMy41QzgzLjkwMiA0LjczNzY3IDk2LjYwODEgMy40ODQwMyAxMDkuMjIyIDQuNzc3NzhDMTIxLjkwMyA2LjA3ODQgMTM1LjE0NiA1IDE0Ny44ODkgNUMxNjUuMzM1IDUgMTgyLjYzOSA0IDIwMC4wNTYgNEMyMTUuNDU0IDQgMjMwLjcwNSAyIDI0NiAyIiBzdHJva2U9IiMyMUFBRTIiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+Cjwvc3ZnPgo=);}}/*!sc*/
data-styled.g18[id="HeaderMenu__HeaderMenuWrapper-sc-14coet3-0"]{content:"jBoxLH,"}/*!sc*/
.iDRvSo{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g21[id="MenuIcon-sc-p3m1g9-0"]{content:"iDRvSo,"}/*!sc*/
.hLjCXR{height:60px;background-color:var(--color-bg-1);color:var(--color-text-0);position:fixed;width:100%;z-index:999;box-shadow:0px 0px 1px rgba(39,40,63,0.08),0px 0.4px 2px rgba(83,85,110,0.16);}/*!sc*/
data-styled.g22[id="Header__Wrapper-sc-1r00u9d-0"]{content:"hLjCXR,"}/*!sc*/
.ixkuuj{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;}/*!sc*/
.ixkuuj .theme-toggle-btn,.ixkuuj .menu-toggle-btn{cursor:pointer;margin-left:32px;}/*!sc*/
.ixkuuj .theme-toggle-btn svg,.ixkuuj .menu-toggle-btn svg{position:relative;}/*!sc*/
@media only screen and (min-width :768px){.ixkuuj .theme-toggle-btn svg{top:6px;}.ixkuuj .menu-toggle-btn{display:none;}}/*!sc*/
data-styled.g23[id="Header__HeaderContainer-sc-1r00u9d-1"]{content:"ixkuuj,"}/*!sc*/
.dbaPSm{font-size:45px;line-height:1.3;font-weight:700;text-align:center;}/*!sc*/
@media screen and (min-width:240px){.dbaPSm{text-align:center;}}/*!sc*/
@media screen and (min-width:480px){.dbaPSm{text-align:left;}}/*!sc*/
.hwkJCV{font-size:18px;line-height:1.6;font-weight:400;}/*!sc*/
.hwxufw{font-size:15px;line-height:1;font-weight:400;}/*!sc*/
.hivgAL{font-size:18px;line-height:1.6;font-weight:400;font-size:18px;font-weight:700;line-height:1.3;}/*!sc*/
data-styled.g24[id="Text__TextBase-sc-qrsgmr-0"]{content:"dbaPSm,hwkJCV,hwxufw,hivgAL,"}/*!sc*/
.fnuiur{width:100%;height:auto;}/*!sc*/
.fPNbPC{width:100%;height:auto;height:48px;width:172px;}/*!sc*/
data-styled.g26[id="Image-sc-gud7do-0"]{content:"fnuiur,fPNbPC,"}/*!sc*/
.ctugJm{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g27[id="UserIcon-sc-13sgagu-0"]{content:"ctugJm,"}/*!sc*/
.gayMnk{margin-top:16px;}/*!sc*/
.gayMnk p{display:inline-block;margin:0 16px 0 0;}/*!sc*/
.gayMnk svg{position:relative;top:-2px;margin-right:4px;}/*!sc*/
.gayMnk .post-meta-item,.gayMnk .post-meta-author{display:block;}/*!sc*/
@media only screen and (min-width :768px){.gayMnk .post-meta-item{display:inline;}.gayMnk .post-meta-author{display:block;}}/*!sc*/
data-styled.g28[id="PostMeta__PostMetaContainer-sc-m05n3v-0"]{content:"gayMnk,"}/*!sc*/
.wCaRb{min-height:360px;padding-top:76px;margin-bottom:32px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.wCaRb .hero-background{position:absolute;right:16px;bottom:0;width:72vw;z-index:-1;opacity:0.32;}/*!sc*/
@media only screen and (min-width :768px){.wCaRb .hero-background{width:48vw;opacity:0.72;}}/*!sc*/
@media only screen and (min-width :1024px){.wCaRb .hero-background{width:20vw;}}/*!sc*/
data-styled.g29[id="HeroSection__Wrapper-sc-1jrjidx-0"]{content:"wCaRb,"}/*!sc*/
.eEHqYj{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g30[id="InstagramIcon-sc-cgqr9k-0"]{content:"eEHqYj,"}/*!sc*/
.jWlzXH{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g32[id="LinkedinIcon-sc-1mer2w1-0"]{content:"jWlzXH,"}/*!sc*/
.iQSJFb{margin:64px 0 -16px 0;padding:0;text-align:center;}/*!sc*/
.iQSJFb li{margin:0 16px 16px 0;display:inline-block;font-size:18px;background-color:var(--color-text-0);border-radius:8px;padding:0 8px;-webkit-transition:all ease-in-out 0.3s;transition:all ease-in-out 0.3s;opacity:0.8;}/*!sc*/
.iQSJFb li:hover{opacity:1;background-color:var(--color-primary-1);}/*!sc*/
.iQSJFb li::before{content:'';margin-right:0;}/*!sc*/
.iQSJFb li:last-child{margin-right:0;}/*!sc*/
.iQSJFb li svg{position:relative;top:-2px;margin-left:-5px;stroke:var(--color-bg-1);}/*!sc*/
.iQSJFb li a{color:var(--color-bg-1);}/*!sc*/
data-styled.g39[id="PostTags__TagListWrapper-sc-9i7ajf-0"]{content:"iQSJFb,"}/*!sc*/
.gznpsK{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g42[id="RedditSquareIcon-sc-dj4o6h-0"]{content:"gznpsK,"}/*!sc*/
.gfoMoL{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g43[id="TwitterIcon-sc-q32gs8-0"]{content:"gfoMoL,"}/*!sc*/
.bvrZya{list-style:none;margin:1rem 0;padding:0;}/*!sc*/
.bvrZya li{margin-bottom:4px;}/*!sc*/
.bvrZya li::before{content:'';margin-right:0;}/*!sc*/
.bvrZya li:last-child{margin-bottom:0;}/*!sc*/
.bvrZya li svg{position:relative;top:-1px;margin-right:4px;}/*!sc*/
.bvrZya li a{color:var(--color-text-0);-webkit-transition:all ease-in-out 0.3s;transition:all ease-in-out 0.3s;}/*!sc*/
.bvrZya li a:hover{color:var(--color-primary-1);}/*!sc*/
data-styled.g44[id="SocialLinks__SocialLinksWrapper-sc-1a2km1z-0"]{content:"bvrZya,"}/*!sc*/
.knEtrZ{stroke:var(--color-text-0);stroke-width:1.6;font-weight:normal;width:24px;}/*!sc*/
data-styled.g45[id="TwitterSquareIcon-sc-14rovj3-0"]{content:"knEtrZ,"}/*!sc*/
.dtcTku{margin:32px 0;padding:0;text-align:center;}/*!sc*/
.dtcTku li{display:inline-block;margin-right:16px;opacity:0.8;-webkit-transition:all 0.3s;transition:all 0.3s;}/*!sc*/
.dtcTku li:last-child{margin-right:0;}/*!sc*/
.dtcTku li::before{content:'';margin:0;top:0;}/*!sc*/
.dtcTku li svg path{fill:var(--color-text-0);}/*!sc*/
.dtcTku li:hover{opacity:1;-webkit-transform:translateY(-4px);-ms-transform:translateY(-4px);transform:translateY(-4px);}/*!sc*/
.dtcTku li:hover svg path{fill:var(--color-primary-1);}/*!sc*/
data-styled.g47[id="SocialShareLinks__Container-sc-1y770py-1"]{content:"dtcTku,"}/*!sc*/
*{margin:0;padding:0;box-sizing:border-box;}/*!sc*/
body{background-color:var(--color-bg-0);color:var(--color-text-0);font-family:'Fira Sans',sans-serif;font-size:18px;line-height:1.6;}/*!sc*/
p{margin:1rem 0 2rem 0;}/*!sc*/
h1,h2,h3,h4,h5,h6{font-weight:700;line-height:1.3;margin:32px 0;}/*!sc*/
h1{font-size:45px;}/*!sc*/
h2{font-size:37px;}/*!sc*/
h3{font-size:31px;}/*!sc*/
h4{font-size:26px;}/*!sc*/
h5{font-size:22px;}/*!sc*/
h6{font-size:18px;}/*!sc*/
a{-webkit-text-decoration:none;text-decoration:none;color:var(--color-accent-0);-webkit-transition:all ease-in-out 0.3s;transition:all ease-in-out 0.3s;}/*!sc*/
a:hover{color:var(--color-accent-1);}/*!sc*/
blockquote{margin:16px 0;padding:32px;border-left:4px solid;font-size:22px;font-style:italic;line-height:1.3;background-color:var(--color-bg-1);border-top-right-radius:8px;border-bottom-right-radius:8px;}/*!sc*/
blockquote p:first-child{margin-top:0;}/*!sc*/
blockquote p:last-child{margin-bottom:0;}/*!sc*/
.gatsby-highlight{overflow:auto;margin:16px 0;}/*!sc*/
.gatsby-highlight pre{border-radius:8px;}/*!sc*/
ul{list-style:none;margin:0;padding:0;}/*!sc*/
ul li{font-size:18px;font-weight:400;line-height:2;}/*!sc*/
ul li::before{color:var(--color-text-0);content:'⧉';margin-right:8px;}/*!sc*/
.post-body{word-break:break-word;}/*!sc*/
.post-body p{margin:2rem 0;}/*!sc*/
.post-body p:first-child{margin-top:0;}/*!sc*/
.post-body h1,.post-body h2,.post-body h3,.post-body h4,.post-body h5,.post-body h6{-webkit-scroll-margin-top:76px;-moz-scroll-margin-top:76px;-ms-scroll-margin-top:76px;scroll-margin-top:76px;}/*!sc*/
::-webkit-scrollbar{width:8px;height:8px;}/*!sc*/
::-webkit-scrollbar-track{background-color:var(--color-bg-1);}/*!sc*/
::-webkit-scrollbar-thumb{cursor:pointer;background-color:var(--color-accent-0);-webkit-transition:all ease-in-out 0.3s;transition:all ease-in-out 0.3s;}/*!sc*/
::-webkit-scrollbar-thumb:hover{background-color:var(--color-accent-1);}/*!sc*/
::-webkit-scrollbar-thumb:active{background-color:var(--color-accent-2);}/*!sc*/
data-styled.g49[id="sc-global-dbrFSQ1"]{content:"sc-global-dbrFSQ1,"}/*!sc*/
</style><style type="text/css">
    .header-anchor-icon.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .header-anchor-icon.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .header-anchor-icon svg,
    h2 .header-anchor-icon svg,
    h3 .header-anchor-icon svg,
    h4 .header-anchor-icon svg,
    h5 .header-anchor-icon svg,
    h6 .header-anchor-icon svg {
      visibility: hidden;
    }
    h1:hover .header-anchor-icon svg,
    h2:hover .header-anchor-icon svg,
    h3:hover .header-anchor-icon svg,
    h4:hover .header-anchor-icon svg,
    h5:hover .header-anchor-icon svg,
    h6:hover .header-anchor-icon svg,
    h1 .header-anchor-icon:focus svg,
    h2 .header-anchor-icon:focus svg,
    h3 .header-anchor-icon:focus svg,
    h4 .header-anchor-icon:focus svg,
    h5 .header-anchor-icon:focus svg,
    h6 .header-anchor-icon:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/favicon-32x32.png?v=46f4f6da9a78a230d2310f9ef33d4c9c" type="image/png"/><link rel="icon" href="/favicon.svg?v=46f4f6da9a78a230d2310f9ef33d4c9c" type="image/svg+xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=46f4f6da9a78a230d2310f9ef33d4c9c"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=46f4f6da9a78a230d2310f9ef33d4c9c"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=46f4f6da9a78a230d2310f9ef33d4c9c"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=46f4f6da9a78a230d2310f9ef33d4c9c"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=46f4f6da9a78a230d2310f9ef33d4c9c"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=46f4f6da9a78a230d2310f9ef33d4c9c"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=46f4f6da9a78a230d2310f9ef33d4c9c"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=46f4f6da9a78a230d2310f9ef33d4c9c"/><style>html { --color-primary-0: #207490;
--color-primary-1: #21AAE2;
--color-primary-2: #5CC7EB;
--color-dark-0: #1E2029;
--color-dark-1: #2B2E3B;
--color-dark-2: #404454;
--color-light-0: #EDEDF2;
--color-light-1: #F6F6F9;
--color-light-2: #FFFFFF;
--color-success-0: #04A660;
--color-success-1: #07C270;
--color-success-2: #3ADA8A;
--color-error-0: #BE1918;
--color-error-1: #F43A3C;
--color-error-2: #F56161;
--color-warning-0: #E27A00;
--color-warning-1: #FF8E00;
--color-warning-2: #FDA642;
--color-bg-0: #EDEDF2;
--color-bg-1: #F6F6F9;
--color-bg-2: #FFFFFF;
--color-text-0: #1E2029;
--color-text-1: #2B2E3B;
--color-text-2: #404454; }</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/></head><body><script>(function setColorsByTheme(){const colors={"primary":["#207490","#21AAE2","#5CC7EB"],"dark":["#1E2029","#2B2E3B","#404454"],"light":["#EDEDF2","#F6F6F9","#FFFFFF"],"success":["#04A660","#07C270","#3ADA8A"],"error":["#BE1918","#F43A3C","#F56161"],"warning":["#E27A00","#FF8E00","#FDA642"]};const colorModeKey='color-mode';const colorModeCssProp='--initial-color-mode';const mql=window.matchMedia('(prefers-color-scheme: dark)');const prefersDarkFromMQ=mql.matches;const persistedPreference=localStorage.getItem(colorModeKey);let colorMode='light';const hasUsedToggle=typeof persistedPreference==='string';if(hasUsedToggle){colorMode=persistedPreference;}else{colorMode=prefersDarkFromMQ?'dark':'light';}const root=document.documentElement;root.style.setProperty(colorModeCssProp,colorMode);Object.entries(colors).forEach(([name,values])=>{values.forEach((color,index)=>{const cssVarName=`--color-${name}-${index}`;root.style.setProperty(cssVarName,color);});});if(colorMode==='dark'){colors.dark.forEach((color,index)=>{const cssVarName=`--color-bg-${index}`;root.style.setProperty(cssVarName,color);});colors.light.forEach((color,index)=>{const cssVarName=`--color-text-${index}`;root.style.setProperty(cssVarName,color);});colors.primary.forEach((color,index)=>{const cssVarName=`--color-accent-${colors.primary.length-(index+1)}`;root.style.setProperty(cssVarName,color);});}else{colors.light.forEach((color,index)=>{const cssVarName=`--color-bg-${index}`;root.style.setProperty(cssVarName,color);});colors.dark.forEach((color,index)=>{const cssVarName=`--color-text-${index}`;root.style.setProperty(cssVarName,color);});colors.primary.forEach((color,index)=>{const cssVarName=`--color-accent-${index}`;root.style.setProperty(cssVarName,color);});}})()</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Header__Wrapper-sc-1r00u9d-0 hLjCXR"><div class="Box-sc-ptr3nn-0 Container-sc-oxbcwa-0 Header__HeaderContainer-sc-1r00u9d-1 blKWRv kRNywr ixkuuj"><a href="/" class="BrandLogo__BrandLogoWrapper-sc-1uf7z42-0 hLDBxp"><span class="brand-text-left">@</span><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiPgo8cGF0aCBkPSJNMTM0LjMgNTQuMDk5OUwxMjIuOTI3IDY1LjQ3MjVMMTAwLjE2NCA0Mi43MDk0TDg4LjMxMTIgNzguMjY3NEwzMiA4OC4xOTk2TDEwMC4yIDIwTDEzNC4zIDU0LjA5OTlaIiBmaWxsPSIjMUU4QkI4Ii8+CjxwYXRoIGQ9Ik0zMiA4OC4xOTk3TDEyOC42MTQgNzEuMTU4OEwxNjguMzY0IDExMC45MDlMNzEuNzUwMyAxMjcuOTVMMzIgODguMTk5N1oiIGZpbGw9IiMyMUFBRTIiLz4KPHBhdGggZD0iTTY2LjA2NDEgMTQ1LjAwOUw3Ny40MzY3IDEzMy42MzZMMTAwLjIgMTU2LjM5OUwxMTIuMDUyIDEyMC44NDFMMTY4LjM2NCAxMTAuOTA5TDEwMC4xNjQgMTc5LjEwOUw2Ni4wNjQxIDE0NS4wMDlaIiBmaWxsPSIjMUU4QkI4Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iMTM2LjM2NCIgaGVpZ2h0PSIxNjAiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMiAyMCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K" alt="s" class="Image-sc-gud7do-0 fnuiur"/><span class="brand-text-right">h4hids</span></a><div display="flex" class="Box-sc-ptr3nn-0 fxdaqI"><ul class="HeaderMenu__HeaderMenuWrapper-sc-14coet3-0 jBoxLH"><li><a href="/about/">About</a></li><li><a class="active" href="/blog/">Blog</a></li><li><a href="/projects/">Projects</a></li><li><a href="/uses/">Uses</a></li><li><a href="/contact/">Contact</a></li></ul><span role="button" tabindex="0" class="theme-toggle-btn" aria-label="theme-toggle-button"><div width="24" height="24" class="Box-sc-ptr3nn-0 jPDAzJ"></div></span><span role="button" tabindex="0" class="menu-toggle-btn" aria-label="menu-button"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL MenuIcon-sc-p3m1g9-0 iDRvSo"><line x1="3" x2="21" y1="12" y2="12"></line><line x1="3" x2="21" y1="6" y2="6"></line><line x1="3" x2="21" y1="18" y2="18"></line></svg></span></div></div></div><div class="Box-sc-ptr3nn-0 Container-sc-oxbcwa-0 HeroSection__Wrapper-sc-1jrjidx-0 blKWRv kRNywr wCaRb"><img src="/static/hero-bg-67cab5e0fa7d57cde433bb3b041b8e25.svg" alt="hero-background" class="Image-sc-gud7do-0 fnuiur hero-background"/><div width="1,1,0.7" class="Box-sc-ptr3nn-0 kmrEev"><h1 class="Text__TextBase-sc-qrsgmr-0 dbaPSm">Testing AWS Lambda And SQS Locally With Node.js</h1><div class="Box-sc-ptr3nn-0 PostMeta__PostMetaContainer-sc-m05n3v-0 jbYiYB gayMnk"><span class="post-meta-item post-meta-author"><svg viewBox="0 0 24 24" height="16" width="16" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL UserIcon-sc-13sgagu-0 ctugJm"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg><p class="Text__TextBase-sc-qrsgmr-0 hwkJCV"><a href="/about/">Shahidul Islam Majumder</a></p></span><span class="post-meta-item"><svg viewBox="0 0 24 24" height="16" width="16" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL CalendarIcon-sc-6jhpoy-0 hvLgSm"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg><p class="Text__TextBase-sc-qrsgmr-0 hwkJCV">November 15 , 2019</p></span><span class="post-meta-item"><svg viewBox="0 0 24 24" height="16" width="16" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL ClockIcon-sc-15qfzyf-0 fkXnQk"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg><p class="Text__TextBase-sc-qrsgmr-0 hwkJCV">2<!-- --> min read</p></span></div></div></div><div class="Box-sc-ptr3nn-0 Container-sc-oxbcwa-0 blKWRv kRNywr"><div class="Text__RawHTML-sc-qrsgmr-1 gnnCUl post-body"><p>I suppose both of your Lambda function and SQS messages are ready, and AWS Lambda and SQS in <code class="language-text">localstack</code> are up and running. We need the SQS queue URL and you can find all of the URLs by running this command:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ aws --endpoint-url<span class="token operator">=</span>http://localhost:4576 sqs list-queues</code></pre></div>
<p>If you haven't create any SQS queue yet, create one using the following command:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ aws --endpoint-url<span class="token operator">=</span>http://localhost:4576 sqs create-queue --queue-name test-sqs</code></pre></div>
<p>Now create a directory and open it in a terminal window. We need to initialize this directory by running <code class="language-text">npm init -y</code>. We need two npm packages to test our SQS and Lambda function locally: <code class="language-text">lambda-local</code> and <code class="language-text">sqs-consumer</code>. Install these packages by running the following command:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> i <span class="token parameter variable">-S</span> lambda-local sqs-consumer</code></pre></div>
<p>Create a file named <code class="language-text">index.js</code> and paste the following code in it. You have to change the configuration according to your settings.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> lambdaLocal <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lambda-local'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Consumer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sqs-consumer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> Consumer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">queueUrl</span><span class="token operator">:</span> <span class="token string">'http://localhost:4576/queue/test-sqs'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">handleMessage</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> jsonPayload <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">Records</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">body</span><span class="token operator">:</span> message<span class="token punctuation">.</span>Body<span class="token punctuation">,</span>
          <span class="token literal-property property">messageAttributes</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">messageType</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">stringValue</span><span class="token operator">:</span> message<span class="token punctuation">.</span>MessageAttributes<span class="token punctuation">.</span>messageType<span class="token punctuation">.</span>StringValue<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    lambdaLocal
      <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">event</span><span class="token operator">:</span> jsonPayload<span class="token punctuation">,</span>
        <span class="token literal-property property">lambdaPath</span><span class="token operator">:</span> <span class="token string">'./my-lambda-function/index.js'</span><span class="token punctuation">,</span> <span class="token comment">//your lambda function path</span>
        <span class="token literal-property property">timeoutMs</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
        <span class="token literal-property property">envfile</span><span class="token operator">:</span> <span class="token string">'./my-lambda-function/.env'</span><span class="token punctuation">,</span> <span class="token comment">//your lambda function env</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>done<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">messageAttributeNames</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'All'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'processing_error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Finally, add a <code class="language-text">start</code> script in your <code class="language-text">package.json</code> and run <code class="language-text">npm start</code> to start the SQS consumer. If you trigger your SQS send message call now, you will see that your lambda function has been executed. You can check a complete setup in <a href="https://github.com/sh4hids/test-sqs-and-lambda-locally">this git repo</a>.</p>
<p>Please let me know if you faced any problem or not. Thanks for reading this short tutorial.</p></div><div width="8rem" class="Divider-sc-bgbp25-0 MfjIm"></div><label class="Text__TextBase-sc-qrsgmr-0 hwxufw">Edit this post <a href="https://github.com/sh4hids/2021.shahid.pro/edit/main/contents/blog/testing-aws-lambda-and-sqs-locally-with-nodejs.md">here</a>.</label><div width="8rem" class="Divider-sc-bgbp25-0 ePRnfW"></div><ul class="PostTags__TagListWrapper-sc-9i7ajf-0 iQSJFb"><li><a href="/blog/tags/node/"><svg viewBox="0 0 24 24" height="20" width="20" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL HashIcon-sc-td049n-0 iKKCnj"><line x1="4" x2="20" y1="9" y2="9"></line><line x1="4" x2="20" y1="15" y2="15"></line><line x1="10" x2="8" y1="3" y2="21"></line><line x1="16" x2="14" y1="3" y2="21"></line></svg>Node</a></li><li><a href="/blog/tags/aws/"><svg viewBox="0 0 24 24" height="20" width="20" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL HashIcon-sc-td049n-0 iKKCnj"><line x1="4" x2="20" y1="9" y2="9"></line><line x1="4" x2="20" y1="15" y2="15"></line><line x1="10" x2="8" y1="3" y2="21"></line><line x1="16" x2="14" y1="3" y2="21"></line></svg>Aws</a></li><li><a href="/blog/tags/aws-lambda/"><svg viewBox="0 0 24 24" height="20" width="20" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL HashIcon-sc-td049n-0 iKKCnj"><line x1="4" x2="20" y1="9" y2="9"></line><line x1="4" x2="20" y1="15" y2="15"></line><line x1="10" x2="8" y1="3" y2="21"></line><line x1="16" x2="14" y1="3" y2="21"></line></svg>AwsLambda</a></li><li><a href="/blog/tags/aws-sqs/"><svg viewBox="0 0 24 24" height="20" width="20" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL HashIcon-sc-td049n-0 iKKCnj"><line x1="4" x2="20" y1="9" y2="9"></line><line x1="4" x2="20" y1="15" y2="15"></line><line x1="10" x2="8" y1="3" y2="21"></line><line x1="16" x2="14" y1="3" y2="21"></line></svg>AwsSqs</a></li></ul><ul class="SocialShareLinks__Container-sc-1y770py-1 dtcTku"><li><a href="https://twitter.com/intent/tweet?text=Testing AWS Lambda and SQS locally with Node.js&amp;url=https://v2021.shahid.pro/blog/2019/11/15/testing-aws-lambda-and-sqs-locally-with-nodejs/" target="_blank" rel="noopener" aria-label="twitter-share" class="SocialShareLinks__Link-sc-1y770py-0 kVSqpo"><svg viewBox="0 0 448 512" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-sc-ea9ulj-0 ebjPRL TwitterSquareIcon-sc-14rovj3-0 knEtrZ"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path></svg></a></li><li><a href="https://facebook.com/sharer/sharer.php?u=https://v2021.shahid.pro/blog/2019/11/15/testing-aws-lambda-and-sqs-locally-with-nodejs/" target="_blank" rel="noopener" aria-label="facebook-share" class="SocialShareLinks__Link-sc-1y770py-0 kVSqpo"><svg viewBox="0 0 448 512" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-sc-ea9ulj-0 ebjPRL FacebookSquareIcon-sc-yybwiz-0 eVetkB"><path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"></path></svg></a></li><li><a href="https://news.ycombinator.com/submitlink?u=https://v2021.shahid.pro/blog/2019/11/15/testing-aws-lambda-and-sqs-locally-with-nodejs/&amp;t=Testing AWS Lambda and SQS locally with Node.js" target="_blank" rel="noopener" aria-label="hackernews-share" class="SocialShareLinks__Link-sc-1y770py-0 kVSqpo"><svg viewBox="0 0 448 512" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-sc-ea9ulj-0 ebjPRL HackerNewsSquareIcon-sc-1ymd1x3-0 gidBbB"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM21.2 229.2H21c.1-.1.2-.3.3-.4 0 .1 0 .3-.1.4zm218 53.9V384h-31.4V281.3L128 128h37.3c52.5 98.3 49.2 101.2 59.3 125.6 12.3-27 5.8-24.4 60.6-125.6H320l-80.8 155.1z"></path></svg></a></li><li><a href="https://reddit.com/submit/?url=https://v2021.shahid.pro/blog/2019/11/15/testing-aws-lambda-and-sqs-locally-with-nodejs/&amp;resubmit=true&amp;title=Testing AWS Lambda and SQS locally with Node.js" target="_blank" rel="noopener" aria-label="reddit-share" class="SocialShareLinks__Link-sc-1y770py-0 kVSqpo"><svg viewBox="0 0 448 512" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-sc-ea9ulj-0 ebjPRL RedditSquareIcon-sc-dj4o6h-0 gznpsK"><path fill="currentColor" d="M283.2 345.5c2.7 2.7 2.7 6.8 0 9.2-24.5 24.5-93.8 24.6-118.4 0-2.7-2.4-2.7-6.5 0-9.2 2.4-2.4 6.5-2.4 8.9 0 18.7 19.2 81 19.6 100.5 0 2.4-2.3 6.6-2.3 9 0zm-91.3-53.8c0-14.9-11.9-26.8-26.5-26.8-14.9 0-26.8 11.9-26.8 26.8 0 14.6 11.9 26.5 26.8 26.5 14.6 0 26.5-11.9 26.5-26.5zm90.7-26.8c-14.6 0-26.5 11.9-26.5 26.8 0 14.6 11.9 26.5 26.5 26.5 14.9 0 26.8-11.9 26.8-26.5 0-14.9-11.9-26.8-26.8-26.8zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-99.7 140.6c-10.1 0-19 4.2-25.6 10.7-24.1-16.7-56.5-27.4-92.5-28.6l18.7-84.2 59.5 13.4c0 14.6 11.9 26.5 26.5 26.5 14.9 0 26.8-12.2 26.8-26.8 0-14.6-11.9-26.8-26.8-26.8-10.4 0-19.3 6.2-23.8 14.9l-65.7-14.6c-3.3-.9-6.5 1.5-7.4 4.8l-20.5 92.8c-35.7 1.5-67.8 12.2-91.9 28.9-6.5-6.8-15.8-11-25.9-11-37.5 0-49.8 50.4-15.5 67.5-1.2 5.4-1.8 11-1.8 16.7 0 56.5 63.7 102.3 141.9 102.3 78.5 0 142.2-45.8 142.2-102.3 0-5.7-.6-11.6-2.1-17 33.6-17.2 21.2-67.2-16.1-67.2z"></path></svg></a></li></ul><div id="comments-container" class="Box-sc-ptr3nn-0 bwkPqF"></div></div><div class="Box-sc-ptr3nn-0 Footer__Wrapper-sc-i2x5ny-0 jPMUhI fuodJd"><div class="Box-sc-ptr3nn-0 Container-sc-oxbcwa-0 eTCcWG kRNywr"><div display="flex" class="Box-sc-ptr3nn-0 gmwDgr"><div width="1,1,0.5" class="Box-sc-ptr3nn-0 gbIPXy"><p font-size="h6" font-weight="bold" class="Text__TextBase-sc-qrsgmr-0 hivgAL">Words of Thanks</p><div class="Text__RawHTML-sc-qrsgmr-1 gnnCUl"><p>Hello there, thank you very much for visiting my site. If you like anything on this site and want to know how it’s made, you can check the source code on <a href="https://github.com/sh4hids/shahid.pro">github</a>.</p></div><p class="Text__TextBase-sc-qrsgmr-0 hwkJCV">Like anything in my site and want to buy me a coffee? please follow the link 👇</p><a href="https://www.buymeacoffee.com/sh4hids" target="_blank" rel="noreferrer"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-blue.png" alt="Buy Me A Coffee" height="48px" width="172px" class="Image-sc-gud7do-0 fPNbPC"/></a></div><div width="1,1,0.5" class="Box-sc-ptr3nn-0 gbIPXy"><p font-size="h6" font-weight="bold" class="Text__TextBase-sc-qrsgmr-0 hivgAL">Social Links</p><ul class="SocialLinks__SocialLinksWrapper-sc-1a2km1z-0 bvrZya"><li><svg viewBox="0 0 24 24" height="16" width="16" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL FacebookIcon-sc-15irht2-0 kaLfYn"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg><a href="https://facebook.com/sh4hids">facebook.com/sh4hids</a></li><li><svg viewBox="0 0 24 24" height="16" width="16" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL GithubIcon-sc-1v4v3a3-0 MzkUf"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><a href="https://github.com/sh4hids">github.com/sh4hids</a></li><li><svg viewBox="0 0 24 24" height="16" width="16" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL InstagramIcon-sc-cgqr9k-0 eEHqYj"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"></line></svg><a href="https://instagram.com/sh4hids">instagram.com/sh4hids</a></li><li><svg viewBox="0 0 24 24" height="16" width="16" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL LinkedinIcon-sc-1mer2w1-0 jWlzXH"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg><a href="https://linkedin.com/in/sh4hids">linkedin.com/in/sh4hids</a></li><li><svg viewBox="0 0 24 24" height="16" width="16" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="StyledIconBase-sc-ea9ulj-0 ebjPRL TwitterIcon-sc-q32gs8-0 gfoMoL"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg><a href="https://twitter.com/sh4hids">twitter.com/sh4hids</a></li></ul></div><div width="1" class="Box-sc-ptr3nn-0 AhMhw"><p class="Text__TextBase-sc-qrsgmr-0 hwkJCV">© 2018 - 2024 Shahidul Islam Majumder. All Rights Reserved.</p></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2019/11/15/testing-aws-lambda-and-sqs-locally-with-nodejs/";window.___webpackCompilationHash="f80a881724b1f980a545";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-43fcf14b84b96500f732.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-a34e6a67d6a7b5677ab2.js"],"component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-pages-404-js":["/component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-pages-404-js-b49785d3b09f2f6cdde7.js"],"component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-post-js":["/component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-post-js-c7ed1a3460576f34c276.js"],"component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-posts-js":["/component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-posts-js-b4edd64b28bfbf8d5a57.js"],"component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-projects-js":["/component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-projects-js-9f853ffdd0305412f166.js"],"component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-tag-js":["/component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-tag-js-fe4d6f21c59f89265c97.js"],"component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-tags-js":["/component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-tags-js-d4dd5437a69153b93cff.js"],"component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-uses-js":["/component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-uses-js-b06aa42f7b2c6118095d.js"],"component---src-pages-gallery-js":["/component---src-pages-gallery-js-3fb01d72419446528d9c.js"],"component---src-sh-4-hids-gatsby-theme-open-sourcerer-pages-index-js":["/component---src-sh-4-hids-gatsby-theme-open-sourcerer-pages-index-js-08e20134417048bf9425.js"],"component---src-sh-4-hids-gatsby-theme-open-sourcerer-templates-about-js":["/component---src-sh-4-hids-gatsby-theme-open-sourcerer-templates-about-js-1b3869fa5e3fbfc86628.js"],"component---src-sh-4-hids-gatsby-theme-open-sourcerer-templates-contact-js":["/component---src-sh-4-hids-gatsby-theme-open-sourcerer-templates-contact-js-9570a60975f9a459516a.js"]};/*]]>*/</script><script src="/app-43fcf14b84b96500f732.js" async=""></script><script src="/framework-29e972f73a99981efa6d.js" async=""></script><script src="/webpack-runtime-38e972ecbf53419c8b7d.js" async=""></script></body></html>