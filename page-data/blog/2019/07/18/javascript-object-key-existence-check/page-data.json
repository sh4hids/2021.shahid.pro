{"componentChunkName":"component---node-modules-sh-4-hids-gatsby-theme-open-sourcerer-src-templates-post-js","path":"/blog/2019/07/18/javascript-object-key-existence-check/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://v2021.shahid.pro","blogPath":"blog","baseEditUrl":"https://github.com/sh4hids/2021.shahid.pro/edit/main/contents/blog","utterancesCommentRepo":"sh4hids/shahid.pro-comments","author":{"fullName":"Shahidul Islam Majumder"}}},"markdownRemark":{"html":"<p>In our day to day life of coding (specially in JavaScript) sometimes we need to check whether a key of an object exists or not. It can be on any level. For example, let's imagine we have an API response where we can get the details of a blog post.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"This is a blog post\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"John Doe\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"twitter\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@johndoe\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"details\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Details blog post\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And we are showing the response on our blog details page like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>{res.title}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span>Author: {res.author.name || 'Anonymous'}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Everything will work fine if the <code class=\"language-text\">author</code> key has values. For some (wired) reason if the <code class=\"language-text\">author</code> key has <code class=\"language-text\">null</code> value, then our code will break. We might get an error like:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Uncaught TypeError: Cannot read property xyz of undefined.</code></pre></div>\n<p>To avoid this kind of situation we can create a helper function to check whether a key of an object (on any level) exists or not. Here's how I implemented the function:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//object-helper.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isDefined</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ref<span class=\"token punctuation\">,</span> path</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> keys <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">//check if the reference object exists or not</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>ref <span class=\"token operator\">||</span> <span class=\"token keyword\">typeof</span> ref <span class=\"token operator\">!==</span> <span class=\"token string\">'object'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> keys<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>ref<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    ref <span class=\"token operator\">=</span> ref<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>That's it! Now we can use to check the existence of a key of an object like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> isDefined <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../helper/path/object-helper'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>res<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>h4<span class=\"token operator\">></span>Author<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token function\">isDefined</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">,</span> <span class=\"token string\">'author.name'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> res<span class=\"token punctuation\">.</span>author<span class=\"token punctuation\">.</span>name <span class=\"token operator\">:</span> <span class=\"token string\">'Anonymous'</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h4<span class=\"token operator\">></span></code></pre></div>\n<p>Thanks for reading this tiny post. If you have any better solution, please let me know on my twitter <a href=\"https://twitter.com/sh4hids\">@sh4hids</a>.</p>","timeToRead":1,"excerpt":"In our day to day life of coding (specially in JavaScript) sometimes we need to check whether a key of an object exists or not. It can be onâ€¦","frontmatter":{"title":"JavaScript Object Key Existence Check (on any level)","publishedAt":"2019-07-18T00:00:00.000Z","tags":["javascript"],"slug":"javascript-object-key-existence-check"},"fields":{"slug":"/2019/07/18/javascript-object-key-existence-check/"}}},"pageContext":{"slug":"/2019/07/18/javascript-object-key-existence-check/","prev":{"frontmatter":{"tags":["gatsby","disqus"],"title":"Add Disqus Commenting on Gatsby Site in 3 Steps"},"fields":{"slug":"/2019/07/20/add-disqus-on-gatsby-site-in-3-steps/"}},"next":{"frontmatter":{"tags":["API","javascript"],"title":"How To Generate API Key And Secret To Protect API"},"fields":{"slug":"/2021/09/22/how-to-generate-api-key-and-secret-to-protect-api/"}}}},"staticQueryHashes":["1066969672","1349029593","2767800352","3803536959","3825412538","3941996707","4259536812"]}